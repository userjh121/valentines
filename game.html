<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Our Co-Op Run - Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="hud" class="hidden collapsed">
  <div id="hud-header" onclick="toggleHUDCollapse()">
    <span id="hud-toggle-icon">‚ñº</span>
    <div id="hud-header-info">
      <span id="hp-label">HP:</span>
      <span id="hp-value">100%</span>
      <span id="hud-companion-name"></span>
    </div>
  </div>
  <div id="hud-content">
    <div id="hp-container">
      <div id="hp-bar-outer">
        <div id="hp-bar"></div>
      </div>
      <div id="companion-indicator">
        <span>Companion:</span>
        <span id="current-companion">None</span>
        <img id="companion-icon" src="" alt="Companion" class="hidden">
      </div>
    </div>
  </div>
</div>


<!-- SOGETI BACKSTORY -->
<div id="sogeti" class="screen active">
  <h1>The Place It All Began</h1>
  <img src="assets/sogeti.png" class="story-image">
    <!-- Story Text -->
  <p class="story-text">
    Two Tarnished, unknowingly summoned to the same workplace.
    Among meetings, deadlines, and shared suffering‚Ä¶
    a bond began to form.
  </p>
  <!-- Minecraft Chests Container -->
  <div class="chests-container">

    <!-- Chest 1: Meeting Memories -->
    <div class="chest" id="chest1" onclick="openChest(1)">
      <div class="chest-closed">
        <img src="assets/chest.png" alt="Chest" class="chest-img">
        <div class="chest-label">Boardroom Drawings</div>
      </div>
      <div class="chest-contents hidden">
        <div class="chest-items">
          <img src="assets/freddy.png" alt="Freddy" class="work-item" data-description="Freddy drawing">
          <img src="assets/frok.jpg" alt="Frok" class="work-item" data-description="Frok drawing">
          <img src="assets/goober.jpg" alt="Goober" class="work-item" data-description="Goober drawing">
          <img src="assets/jeremy.jpg" alt="Jeremy" class="work-item" data-description="Jeremy drawing">
          <img src="assets/puffle.jpg" alt="Puffle" class="work-item" data-description="Puffle drawing">
        </div>
        <button class="close-chest" onclick="closeChest(1)">Close Chest</button>
      </div>
    </div>
    
    <!-- Chest 2: Mugshots -->
    <div class="chest" id="chest2" onclick="openChest(2)">
      <div class="chest-closed">
        <img src="assets/chest.png" alt="Chest" class="chest-img">
        <div class="chest-label">Mugshots</div>
      </div>
      <div class="chest-contents hidden">
        <div class="chest-items">
          <img src="assets/jade.jpg" alt="Jade" class="work-item" data-description="Jade's mugshot">
          <img src="assets/max.png" alt="Max" class="work-item" data-description="Max's mugshot">
        </div>
        <button class="close-chest" onclick="closeChest(2)">Close Chest</button>
      </div>
    </div>
    
    <!-- Chest 3: Office Games -->
    <div class="chest" id="chest3" onclick="openChest(3)">
      <div class="chest-closed">
        <img src="assets/chest.png" alt="Chest" class="chest-img">
        <div class="chest-label">Office Games</div>
      </div>
      <div class="chest-contents hidden">
        <div class="chest-items">
          <img src="assets/clubpenguin.png" alt="Club Penguin" class="work-item" data-description="Card-Jitsu">
          <img src="assets/clash.png" alt="Clash" class="work-item" data-description="Clash">
          <img src="assets/minecraft.png" alt="Minecraft" class="work-item" data-description="Minecraft">
        </div>
        <button class="close-chest" onclick="closeChest(3)">Close Chest</button>
      </div>
    </div>
  </div>

  
  <!-- Description Display -->
  <div id="item-description" class="description-box"></div>
  
  <!-- Companion Dialogue -->
  <p id="companion-dialogue" class="highlight"></p>
  
  <!-- Progress Indicator -->
  <div class="progress-indicator">
    <span>Chests Opened: </span>
    <span id="chests-opened">0/3</span>
  </div>
  
  <!-- Continue Button (initially disabled) -->
  <button id="continue-btn" onclick="goTo('bakery')" disabled>Continue Journey</button>
</div>









<!-- BAKERY LEVEL -->
<div id="bakery" class="screen hidden">
  <h1>The Bakery of Beginnings</h1>
  
  <!-- Secret Chest Container - Positioned next to title -->
  <div class="title-chest-container">
    <div class="secret-chest" id="secret-bakery-chest" onclick="openBakerySecret()">
      <div class="secret-chest-closed">
        <img src="assets/chest.png" alt="Secret Chest" class="secret-chest-img">
        <span class="secret-chest-label">üì∏ secrets</span>
      </div>
      <div class="secret-chest-contents hidden" id="bakery-secret-contents">
        <div class="secret-content">
          <h3>Lusk, 10:23am</h3>
          <video controls class="secret-video" id="lusk-video">
            <source src="assets/noisette.mp4" type="video/mp4">
            Your browser doesn't support video, but trust me - it's cute.
          </video>
          <p class="video-caption">paragliders doing their thing. we were here.</p>
          <button class="close-secret" onclick="closeBakerySecret(event); event.stopPropagation();">close chest</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Memory text - shorter, warmer, less "written" -->
  <div class="memory-flash">
    <p class="memory-flash-text">
      Lusk. Noisette Bakery. You got a chocolate croissant, I got strawberry - We shared.
      Coffee steamed in the cold air. Paragliders drifted over the beach like they had nowhere better to be.
      Neither did we.
    </p>
  </div>
  
  <p>Match the pastries to share them equally! Find all pairs before time runs out.</p>
  
  <!-- rest of your bakery HTML remains exactly the same -->
  <div id="memory-game">
    <div class="game-header">
      <div class="game-stats">
        <div class="stat">
          <span class="stat-label">Time:</span>
          <span id="timer" class="stat-value">60</span>s
        </div>
        <div class="stat">
          <span class="stat-label">Matches:</span>
          <span id="matches">0/6</span>
        </div>
        <div class="stat">
          <span class="stat-label">Moves:</span>
          <span id="moves">0</span>
        </div>
      </div>
      
      <div class="difficulty">
        <button onclick="setDifficulty('easy')" class="difficulty-btn active">Easy</button>
        <button onclick="setDifficulty('medium')" class="difficulty-btn">Medium</button>
        <button onclick="setDifficulty('hard')" class="difficulty-btn">Hard</button>
      </div>
    </div>
    
    <div class="memory-grid" id="memory-grid">
      <!-- Cards will be generated here -->
    </div>
    
    <div class="game-controls">
      <button onclick="startGame()" id="start-btn">Start Game</button>
      <button onclick="resetGame()" id="reset-btn" disabled>Restart</button>
      <button onclick="hint()" id="hint-btn" disabled>
        <i class="fas fa-lightbulb"></i> Hint (3 left)
      </button>
    </div>
    
    <div id="game-message" class="game-message"></div>
    
    <div class="companion-help">
      <p id="bakery-dialogue" class="highlight"></p>
    </div>
  </div>
  
<div id="bakery-outcome" class="hidden">
  <div class="bakery-receipt">
    <!-- Coffee stain effect -->
    <div class="coffee-stain"></div>
    
    <div class="receipt-header">
      <h2 id="outcome-title">‚ú¶ pastries shared ‚ú¶</h2>
      <div class="receipt-divider">‚òï ‚îÄ‚îÄ‚îÄ ‚òï</div>
    </div>
    
    <div id="outcome-text" class="outcome-memory"></div>
    
    <div class="companion-note" id="companion-outcome-note"></div>
    
    <div class="receipt-stats">
      <div class="stat-row">
        <span class="stat-icon">‚è≥</span>
        <span class="stat-label">time well spent</span>
        <span class="stat-value" id="time-bonus">0</span>
        <span class="stat-unit">hp</span>
      </div>
      
      <div class="stat-row total">
        <span class="stat-icon">‚ú®</span>
        <span class="stat-label">memories earned</span>
        <span class="stat-value" id="total-hp">20</span>
        <span class="stat-unit">hp</span>
      </div>
    </div>
    
    <div class="paraglider-silhouette">
      <span>ü™Ç</span>
      <span>ü™Ç</span>
    </div>
    
    <button onclick="completeBakery()" class="bakery-continue-btn">
      <span class="btn-text">continue to the the cinema</span>
      <span class="btn-arrow">‚Üí</span>
    </button>
    
    <div class="receipt-footer">
      <span>noisette bakery ‚Ä¢ lusk</span>
      <span>10:23am</span>
    </div>
  </div>
</div>
</div>



<!-- CINEMA LEVEL - The Materialists -->
<div id="materialists" class="screen hidden">
  
  <h1 class="film-title">THE MATERIALISTS</h1>
  
  <div class="film-plot">
    <p>Plot: Lucy Mason is a cynical matchmaker who tells her clients to lower their standards while secretly hoping someone will clear hers. She meets a financier with surgically enhanced calves and an ex-boyfriend who can't afford a real ring. She makes the wrong choice. Then the right one.</p>
    <p class="plot-punchline">Anyway, we said "I love you" here and you also don't even need surgically enhanced calves so big W</p>
  </div>
  
  <!-- Popcorn Game -->
  <div id="popcorn-game" class="hidden">
    <div class="popcorn-visual">
      <div class="signal-light-container">
        <div class="signal-light" id="signal-light"></div>
        <p id="signal-text">Waiting to start...</p>
      </div>
      
      <button class="grab-btn" id="grab-btn" disabled>
        üçø WAITING...
      </button>
    </div>
    
    <div class="game-stats-container">
      <div class="stat-box">
        <div class="stat-label">Round</div>
        <div class="stat-value" id="round-counter">0/5</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Perfect Grabs</div>
        <div class="stat-value" id="perfect-grabs">0</div>
      </div>
    </div>

    <div class="game-controls-container">
      <button onclick="startPopcornGame()" id="start-game-btn">üé¨ Start Scene</button>
    </div>
  </div>

  <!-- Outcome Screen -->
  <div id="cinema-outcome" class="hidden">
    <div class="outcome-cinema">
      <h2>üçø CREDITS ROLL üçø</h2>
      <div class="outcome-film-stats">
        <p id="popcorn-outcome" class="outcome-review"></p>
        <div class="outcome-ratings">
          <div class="rating-item">
            <span class="rating-label">üçÖ CRITIC SCORE</span>
            <span class="rating-value" id="final-perfect-grabs">0</span>
            <span class="rating-unit">/5 perfect grabs</span>
          </div>
        </div>
      </div>
      <div class="outcome-controls">
        <button onclick="goTo('zoo')" class="continue-btn">‚ñ∂ Continue to Zoo Lights</button>
        <button onclick="restartPopcornGameFromOutcome()" class="restart-btn">üîÑ Director's Cut</button>
      </div>
    </div>
  </div>

  <!-- Start Screen -->
  <div id="cinema-start" class="cinema-start">

    <div class="start-controls">
      <button onclick="startPopcornGameIntro()" class="romance-btn">üé≠ Relive the Moment</button>
    </div>
  </div>
</div>











<!-- ZOO LEVEL - SIMPLIFIED LIGHT TRAIL -->
<div id="zoo" class="screen hidden">
  <h1>The Winter Lights of Dublin Zoo</h1>
  <p>Trace the light patterns in the frosty air. Create beauty together.</p>
  
  <!-- Light Trail Game -->
  <div id="trail-game" class="hidden">
    <div class="game-container">
      <!-- Pattern Selection -->
      <div class="pattern-selection">
        <h3>Choose a Light Pattern:</h3>
        <div class="pattern-options">
          <button class="pattern-btn" data-pattern="star" onclick="selectPattern('star')">
            <span class="pattern-icon">‚≠ê</span>
            <span class="pattern-label">Star</span>
          </button>
          <button class="pattern-btn" data-pattern="heart" onclick="selectPattern('heart')">
            <span class="pattern-icon">‚ù§Ô∏è</span>
            <span class="pattern-label">Heart</span>
          </button>
        </div>
      </div>
      
      <!-- Drawing Area -->
      <div class="drawing-container">
        <div class="drawing-instructions">
          <p id="draw-instructions">Trace the pattern with your finger!</p>
          <div class="mobile-hint">üëÜ Draw on the canvas below</div>
        </div>
        
        <div class="drawing-area">
          <canvas id="light-canvas" width="400" height="400"></canvas>
        </div>
        
        <!-- Touch Controls -->
        <div class="mobile-controls">
          <button class="mobile-btn" onclick="undoLastStroke()">‚Ü∂ Undo</button>
          <button class="mobile-btn" onclick="clearDrawing()">üóëÔ∏è Clear</button>
          <button class="mobile-btn" onclick="toggleGuide()" id="guide-btn">üëÅÔ∏è Show Guide</button>
        </div>
      </div>
      
      <!-- Accuracy Display -->
      <div class="accuracy-display">
        <div class="accuracy-item">
          <div class="accuracy-label">Pattern Accuracy:</div>
          <div class="accuracy-value" id="accuracy-value">0%</div>
        </div>
        <div class="accuracy-bar-container">
          <div class="accuracy-bar">
            <div class="accuracy-fill" id="accuracy-fill"></div>
          </div>
        </div>
      </div>
      
      <!-- Game Controls -->
      <div class="game-controls">
        <button onclick="startTrailGame()" id="start-game-btn"> Begin Drawing</button>
        <button onclick="checkDrawing()" id="check-btn" disabled>‚ú® Check Pattern</button>
      </div>
    </div>
  </div>
  
  <!-- Outcome Screen -->
  <div id="zoo-outcome" class="hidden">
    <div class="outcome-content">
      <h2>‚ú® Light Trail Complete ‚ú®</h2>
      
      <div class="result-stats">
        <div class="stat-item">
          <span class="stat-label">Pattern Accuracy:</span>
          <span class="stat-value" id="final-accuracy">0%</span>
        </div>
        <div class="stat-item highlight">
          <span class="stat-label">Hot Chocolate Bonus:</span>
          <span class="stat-value" id="chocolate-bonus">+0 HP</span>
        </div>
      </div>
      
      <p id="light-outcome" class="outcome-text">
        The lights shimmer in appreciation of your drawing...
      </p>
      
      <div class="outcome-controls">
        <button onclick="goTo('fnaf')" class="continue-btn">Continue to FNAF</button>
        <button onclick="justGetChocolate()" class="skip-btn">‚òï Just Get Hot Chocolate</button>
      </div>
    </div>
  </div>
  
  <!-- Start Screen -->
  <div id="zoo-start" class="zoo-start">
    <div class="zoo-description">
      <p>The air is crisp, the lights dance through the trees like frozen fireflies.</p>
      <p class="highlight">Trace patterns in the cold air with your companion...</p>
    </div>
    
    <div class="zoo-choices">
      <button onclick="startZooGame()" class="romance-btn">‚ú® Trace Light Patterns</button>
      <button onclick="skipToChocolate()" class="skip-btn">‚òï Skip to Hot Chocolate</button>
      <button onclick="getTooCold()" class="shy-btn">‚ùÑÔ∏è Get Too Cold (-20 HP)</button>
    </div>
  </div>
</div>




  <!-- FNAF LEVEL -->
  <div id="fnaf" class="screen hidden">
    <h1>Five Nights are Freddy Fazbears</h1>
    <p>Animatronics lurk. Fear rises. Guess the word before fear consumes you</p>
    <div id="wordle-grid"></div>
    <input id="wordle-input" maxlength="5" placeholder="5 letter word">
    <button onclick="submitGuess()">Submit</button>
    <p id="fear-text" class="highlight"></p>
  </div>


  <!-- YOU DIED -->
  <div id="death-screen" class="screen hidden">
    <img src="assets/died.png">
    <br>
    <img src="assets/powerup.png" class="character" onclick="revive()" title="Touch grace to revive">
    <p>Touch the grace to rise again.</p>
    <button onclick="restart()">Return to Beginning</button>
  </div>

  <!-- VICTORY -->
  <div id="victory" class="screen hidden">
    <h1>Journey Complete</h1>
    <p>Through every trial, every night, every shared moment‚Ä¶ you made it.</p>
    <h2>You reached me ‚ù§Ô∏è</h2>
    <p class="highlight">Happy Valentine's Day.</p>
  </div>

  <audio id="death-audio" src="assets/you-died.mp3"></audio>
  <audio id="bg-music" src="assets/start-song.mp3" loop></audio>

  <script src="game-script.js"></script>
</body>
</html>
