<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Our Co-Op Run - Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="hud" class="hidden collapsed">
  <div id="hud-header" onclick="toggleHUDCollapse()">
    <span id="hud-toggle-icon">‚ñº</span>
    <div id="hud-header-info">
      <span id="hp-label">HP:</span>
      <span id="hp-value">100%</span>
      <span id="hud-companion-name"></span>
    </div>
  </div>
  <div id="hud-content">
    <div id="hp-container">
      <div id="hp-bar-outer">
        <div id="hp-bar"></div>
      </div>
      <div id="companion-indicator">
        <span>Companion:</span>
        <span id="current-companion">None</span>
        <img id="companion-icon" src="" alt="Companion" class="hidden">
      </div>
    </div>
  </div>
</div>


<!-- SOGETI BACKSTORY -->
<div id="sogeti" class="screen active">
  <h1>The Place It All Began</h1>
  <img src="assets/sogeti.png" class="story-image">
    <!-- Story Text -->
  <p class="story-text">
    Two Tarnished, unknowingly summoned to the same workplace.
    Among meetings, deadlines, and shared suffering‚Ä¶
    a bond began to form.
  </p>
  <!-- Minecraft Chests Container -->
  <div class="chests-container">

    <!-- Chest 1: Meeting Memories -->
    <div class="chest" id="chest1" onclick="openChest(1)">
      <div class="chest-closed">
        <img src="assets/chest.png" alt="Chest" class="chest-img">
        <div class="chest-label">Boardroom Drawings</div>
      </div>
      <div class="chest-contents hidden">
        <div class="chest-items">
          <img src="assets/freddy.png" alt="Freddy" class="work-item" data-description="Freddy drawing">
          <img src="assets/frok.jpg" alt="Frok" class="work-item" data-description="Frok drawing">
          <img src="assets/goober.jpg" alt="Goober" class="work-item" data-description="Goober drawing">
          <img src="assets/jeremy.jpg" alt="Jeremy" class="work-item" data-description="Jeremy drawing">
          <img src="assets/puffle.jpg" alt="Puffle" class="work-item" data-description="Puffle drawing">
        </div>
        <button class="close-chest" onclick="closeChest(1)">Close Chest</button>
      </div>
    </div>
    
    <!-- Chest 2: Mugshots -->
    <div class="chest" id="chest2" onclick="openChest(2)">
      <div class="chest-closed">
        <img src="assets/chest.png" alt="Chest" class="chest-img">
        <div class="chest-label">Mugshots</div>
      </div>
      <div class="chest-contents hidden">
        <div class="chest-items">
          <img src="assets/jade.jpg" alt="Jade" class="work-item" data-description="Jade's mugshot">
          <img src="assets/max.png" alt="Max" class="work-item" data-description="Max's mugshot">
        </div>
        <button class="close-chest" onclick="closeChest(2)">Close Chest</button>
      </div>
    </div>
    
    <!-- Chest 3: Office Games -->
    <div class="chest" id="chest3" onclick="openChest(3)">
      <div class="chest-closed">
        <img src="assets/chest.png" alt="Chest" class="chest-img">
        <div class="chest-label">Office Games</div>
      </div>
      <div class="chest-contents hidden">
        <div class="chest-items">
          <img src="assets/clubpenguin.png" alt="Club Penguin" class="work-item" data-description="Card-Jitsu">
          <img src="assets/clash.png" alt="Clash" class="work-item" data-description="Clash">
          <img src="assets/minecraft.png" alt="Minecraft" class="work-item" data-description="Minecraft">
        </div>
        <button class="close-chest" onclick="closeChest(3)">Close Chest</button>
      </div>
    </div>
  </div>

  
  <!-- Description Display -->
  <div id="item-description" class="description-box"></div>
  
  <!-- Companion Dialogue -->
  <p id="companion-dialogue" class="highlight"></p>
  
  <!-- Progress Indicator -->
  <div class="progress-indicator">
    <span>Chests Opened: </span>
    <span id="chests-opened">0/3</span>
  </div>
  
  <!-- Continue Button (initially disabled) -->
  <button id="continue-btn" onclick="goTo('bakery')" disabled>Continue Journey</button>
</div>









<!-- BAKERY LEVEL -->
<div id="bakery" class="screen hidden">
  <h1>The Bakery of Beginnings</h1>
  
  <!-- Secret Chest Container - Positioned next to title -->
  <div class="title-chest-container">
    <div class="secret-chest" id="secret-bakery-chest" onclick="openBakerySecret()">
      <div class="secret-chest-closed">
        <img src="assets/chest.png" alt="Secret Chest" class="secret-chest-img">
        <span class="secret-chest-label">üì∏ secrets</span>
      </div>
      <div class="secret-chest-contents hidden" id="bakery-secret-contents">
        <div class="secret-content">
          <h3>Lusk, 10:23am</h3>
          <video controls class="secret-video" id="lusk-video">
            <source src="assets/noisette.mp4" type="video/mp4">
            Your browser doesn't support video, but trust me - it's cute.
          </video>
          <p class="video-caption">paragliders doing their thing. we were here.</p>
          <button class="close-secret" onclick="closeBakerySecret(event); event.stopPropagation();">close chest</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Memory text - shorter, warmer, less "written" -->
  <div class="memory-flash">
    <p class="memory-flash-text">
      Lusk. Noisette Bakery. You got a chocolate croissant, I got strawberry - We shared.
      Coffee steamed in the cold air. Paragliders drifted over the beach like they had nowhere better to be.
      Neither did we.
    </p>
  </div>
  
  <p>Match the pastries to share them equally! Find all pairs before time runs out.</p>
  
  <!-- rest of your bakery HTML remains exactly the same -->
  <div id="memory-game">
    <div class="game-header">
      <div class="game-stats">
        <div class="stat">
          <span class="stat-label">Time:</span>
          <span id="timer" class="stat-value">60</span>s
        </div>
        <div class="stat">
          <span class="stat-label">Matches:</span>
          <span id="matches">0/6</span>
        </div>
        <div class="stat">
          <span class="stat-label">Moves:</span>
          <span id="moves">0</span>
        </div>
      </div>
      
      <div class="difficulty">
        <button onclick="setDifficulty('easy')" class="difficulty-btn active">Easy</button>
        <button onclick="setDifficulty('medium')" class="difficulty-btn">Medium</button>
        <button onclick="setDifficulty('hard')" class="difficulty-btn">Hard</button>
      </div>
    </div>
    
    <div class="memory-grid" id="memory-grid">
      <!-- Cards will be generated here -->
    </div>
    
    <div class="game-controls">
      <button onclick="startGame()" id="start-btn">Start Game</button>
      <button onclick="resetGame()" id="reset-btn" disabled>Restart</button>
      <button onclick="hint()" id="hint-btn" disabled>
        <i class="fas fa-lightbulb"></i> Hint (3 left)
      </button>
    </div>
    
    <div id="game-message" class="game-message"></div>
    
    <div class="companion-help">
      <p id="bakery-dialogue" class="highlight"></p>
    </div>
  </div>
  
<div id="bakery-outcome" class="hidden">
  <div class="bakery-receipt">
    <!-- Coffee stain effect -->
    <div class="coffee-stain"></div>
    
    <div class="receipt-header">
      <h2 id="outcome-title">‚ú¶ pastries shared ‚ú¶</h2>
      <div class="receipt-divider">‚òï ‚îÄ‚îÄ‚îÄ ‚òï</div>
    </div>
    
    <div id="outcome-text" class="outcome-memory"></div>
    
    <div class="companion-note" id="companion-outcome-note"></div>
    
    <div class="receipt-stats">
      <div class="stat-row">
        <span class="stat-icon">‚è≥</span>
        <span class="stat-label">time well spent</span>
        <span class="stat-value" id="time-bonus">0</span>
        <span class="stat-unit">hp</span>
      </div>
      
      <div class="stat-row total">
        <span class="stat-icon">‚ú®</span>
        <span class="stat-label">memories earned</span>
        <span class="stat-value" id="total-hp">20</span>
        <span class="stat-unit">hp</span>
      </div>
    </div>
    
    <div class="paraglider-silhouette">
      <span>ü™Ç</span>
      <span>ü™Ç</span>
    </div>
    
    <button onclick="completeBakery()" class="bakery-continue-btn">
      <span class="btn-text">continue to the the cinema</span>
      <span class="btn-arrow">‚Üí</span>
    </button>
    
    <div class="receipt-footer">
      <span>noisette bakery ‚Ä¢ lusk</span>
      <span>10:23am</span>
    </div>
  </div>
</div>
</div>


<!-- CINEMA LEVEL - The Materialists -->
<div id="materialists" class="screen hidden">
  
  <h1 class="film-title">THE MATERIALISTS</h1>
  
  <div class="film-plot">
    <p>Plot: Lucy Mason is a cynical matchmaker who tells her clients to lower their standards while secretly hoping someone will clear hers. She meets a financier with surgically enhanced calves and an ex-boyfriend who can't afford a real ring. She makes the wrong choice. Then the right one.</p>
    <p class="plot-punchline">Anyway, we said "I love you" here and you also don't even need surgically enhanced calves so big W</p>
  </div>
  
  <!-- Start Screen -->
  <div id="cinema-start" class="cinema-start">
    <div class="start-controls">
      <button onclick="startPopcornGameIntro()" class="romance-btn">üé≠ Relive the Moment</button>
    </div>
  </div>
  
  <!-- Popcorn Game -->
  <div id="popcorn-game" class="hidden">
    <div class="popcorn-visual">
      <div class="signal-light-container">
        <div class="signal-light" id="signal-light"></div>
        <p id="signal-text">Waiting to start...</p>
      </div>
      
      <button class="grab-btn" id="grab-btn" disabled>
        üçø WAITING...
      </button>
    </div>
    
    <div class="game-stats-container">
      <div class="stat-box">
        <div class="stat-label">Round</div>
        <div class="stat-value" id="round-counter">0/5</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Perfect Grabs</div>
        <div class="stat-value" id="perfect-grabs">0</div>
      </div>
    </div>

    <div class="game-controls-container">
      <button onclick="startPopcornGame()" id="start-game-btn">üé¨ Start Scene</button>
    </div>
  </div>

  <!-- Outcome Screen -->
  <div id="cinema-outcome" class="hidden">
    <div class="outcome-cinema">
      <div class="credits-roll">
        <span class="reel-icon">üé¨</span>
        <h2>üçø CREDITS ROLL üçø</h2>
        <span class="reel-icon">üé¨</span>
      </div>
      
      <div class="outcome-film-stats">
        <p id="popcorn-outcome" class="outcome-review"></p>
        
        <div class="critic-score-card">
          <div class="critic-header">
            <span class="tomato">üçÖ</span>
            <span class="critic-label">CRITIC SCORE</span>
            <span class="tomato">üçÖ</span>
          </div>
          
          <div class="score-display">
            <span class="score-value" id="final-perfect-grabs">0</span>
            <span class="score-max">/5</span>
            <span class="score-tagline">perfect grabs</span>
          </div>
          
          <div class="rating-stars">
            <span class="star" id="star1">‚òÜ</span>
            <span class="star" id="star2">‚òÜ</span>
            <span class="star" id="star3">‚òÜ</span>
            <span class="star" id="star4">‚òÜ</span>
            <span class="star" id="star5">‚òÜ</span>
          </div>
        </div>
      </div>
      
      <div class="outcome-buttons">
        <button onclick="goTo('zoo')" class="cinema-continue-btn">
          <span class="btn-content">
            <span class="btn-icon">‚ñ∂</span>
            <span class="btn-text">Continue to Zoo Lights</span>
          </span>
        </button>
        
        <button onclick="restartPopcornGameFromOutcome()" class="cinema-restart-btn">
          <span class="btn-content">
            <span class="btn-icon">üîÑ</span>
            <span class="btn-text">Director's Cut</span>
          </span>
        </button>
      </div>
      
      <div class="film-strip">
        <span>‚è∫</span><span>‚è∫</span><span>‚è∫</span><span>‚è∫</span><span>‚è∫</span>
      </div>
    </div>
  </div>
  
</div>







<!-- ZOO LEVEL - DUBLIN ZOO WINTER LIGHTS -->
<div id="zoo" class="screen hidden">
  
  <div class="zoo-header">
    <h1 class="zoo-title">WINTER WILD LIGHTS</h1>
    <span class="zoo-year">‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è‚ùÑÔ∏è</span>
  </div>
  
  <div class="zoo-memory-card">
    <div class="memory-chip">üì∏ DECEMBER </div>
    <p class="zoo-memory-text">
      Giant glowing orcas, a tunnel of stars, spiders
      and that one weird jellyfish thing.
      We had cold hands, warm Bailey's and extra warm Mad Egg chippiesss
    </p>
    <div class="memory-tags">
      <span class="tag">‚ùÑÔ∏è 2¬∞C</span>
      <span class="tag">‚òï baileys</span>
      <span class="tag">üêß 0 penguins</span>
    </div>
  </div>
  
  <!-- Light Trail Game -->
  <div id="trail-game" class="hidden">
    <div class="game-container">
      
      <div class="pattern-header">
        <span class="pattern-glow">‚ú®</span>
        <h3>choose your light</h3>
        <span class="pattern-glow">‚ú®</span>
      </div>
      
      <div class="pattern-options">
        <button class="pattern-btn" data-pattern="star" onclick="selectPattern('star')">
          <span class="pattern-icon">‚≠ê</span>
          <span class="pattern-label">STAR</span>
          <span class="pattern-sub">star</span>
        </button>
        <button class="pattern-btn" data-pattern="heart" onclick="selectPattern('heart')">
          <span class="pattern-icon">‚ù§Ô∏è</span>
          <span class="pattern-label">HEART</span>
          <span class="pattern-sub">heart</span>
        </button>
      </div>
      
      <div class="drawing-container">
        <div class="drawing-instructions">
          <p id="draw-instructions">trace the light</p>
          <div class="mobile-hint">üëÜ draw with your finger</div>
        </div>
        
        <div class="drawing-area">
          <canvas id="light-canvas" width="400" height="400"></canvas>
          <div class="canvas-glow"></div>
        </div>
        
        <div class="mobile-controls">
          <button class="mobile-btn" onclick="undoLastStroke()">
            <span class="btn-icon">‚Ü∂</span>
            <span class="btn-label">UNDO</span>
          </button>
          <button class="mobile-btn" onclick="clearDrawing()">
            <span class="btn-icon">‚åß</span>
            <span class="btn-label">CLEAR</span>
          </button>
          <button class="mobile-btn" onclick="toggleGuide()" id="guide-btn">
            <span class="btn-icon">üëÅÔ∏è</span>
            <span class="btn-label">GUIDE</span>
          </button>
        </div>
      </div>
      
      <div class="accuracy-display">
        <div class="accuracy-header">
          <span class="accuracy-icon">üéØ</span>
          <span class="accuracy-label">PATTERN ACCURACY</span>
          <span class="accuracy-icon">üéØ</span>
        </div>
        <div class="accuracy-value" id="accuracy-value">0%</div>
        <div class="accuracy-bar-container">
          <div class="accuracy-bar">
            <div class="accuracy-fill" id="accuracy-fill"></div>
          </div>
        </div>
      </div>
      
      <div class="game-controls">
        <button onclick="startTrailGame()" id="start-game-btn">
          <span class="btn-icon">‚ú®</span>
          Begin Trace
        </button>
        <button onclick="checkDrawing()" id="check-btn" disabled>
          <span class="btn-icon">üéØ</span>
          Check Pattern
        </button>
      </div>
    </div>
  </div>
  
  <!-- Outcome Screen -->
  <div id="zoo-outcome" class="hidden">
    <div class="outcome-content winter-outcome">
      
      <div class="outcome-header">
        <span class="outcome-icon">üèÆ</span>
        <h2>LIGHTS REMEMBERED</h2>
        <span class="outcome-icon">üèÆ</span>
      </div>
      
      <div class="outcome-stats-card">
        <div class="stat-block">
          <span class="stat-icon">üé®</span>
          <div class="stat-info">
            <span class="stat-label">your accuracy</span>
            <span class="stat-value-large" id="final-accuracy">0%</span>
          </div>
        </div>
        
        <div class="stat-divider"></div>
        
        <div class="stat-block highlight">
          <span class="stat-icon">‚òï</span>
          <div class="stat-info">
            <span class="stat-label">baileys bonus</span>
            <span class="stat-value-large" id="chocolate-bonus">+0 HP</span>
          </div>
        </div>
      </div>
      
      <div class="memory-reveal" id="light-outcome">
      </div>
      
      <div class="outcome-actions">
        <button onclick="goTo('fnaf')" class="primary-btn">
          <span class="btn-icon">‚ñ∂</span>
          Continue Journey
        </button>
      </div>
      
      <div class="outcome-footnote">
        the jellyfish light was definitely the best one
      </div>
    </div>
  </div>
  
  <!-- Start Screen -->
  <div id="zoo-start" class="zoo-start">
    <div class="start-card">
      
      <div class="start-header">
        <span class="header-icon">‚ùÑÔ∏è</span>
        <span class="header-icon">‚ú®</span>
        <span class="header-icon">‚ùÑÔ∏è</span>
      </div>
      
      <div class="start-description">
        <p class="start-location">DUBLIN ZOO ¬∑ WINTER LIGHTS</p>
        <p class="start-tagline">
          Trace the patterns.
        </p>
      </div>

      <div class="start-choices">
        <button onclick="startZooGame()" class="primary-btn large">
          <span class="btn-icon">‚ú®</span>
          Enter the lights
        </button>
        <div class="choice-row">
          <button onclick="getTooCold()" class="tertiary-btn">
            <span class="btn-icon">‚ùÑÔ∏è</span>
            Get too cold
          </button>
        </div>
      </div>
      
      <div class="start-footer">
        <span>no animals were seen during this date</span>
      </div>
    </div>
  </div>
</div>






<!-- FNAF LEVEL - Five Nights at Freddy's -->
<div id="fnaf" class="screen hidden">
  
  <!-- Static Overlay (appears during jumpscare) -->
  <div id="static-overlay" class="hidden"></div>
  
  <!-- Jumpscare Container -->
  <div id="jumpscare-container" class="hidden">
    <video id="jumpscare-video" preload="auto">
      <source src="assets/fnaf.mp4" type="video/mp4">
      <!-- Add fallback text -->
      Your browser doesn't support the jumpscare video. Be thankful.
    </video>
  </div>
  
  <!-- Security Camera Frame -->
  <div class="fnaf-container">
    
    <!-- VHS Static Effect (subtle) -->
    <div class="vhs-static"></div>
    
    <!-- Camera Glitch Effect (animated) -->
    <div class="camera-glitch"></div>
    
    <!-- Animatronic Warning Light -->
    <div class="warning-light" id="warning-light"></div>
    
    <!-- Fazbear Entertainment Logo -->
    <div class="fazbear-logo">
      <span class="fazbear-text">FAZBEAR ENTERTAINMENT</span>
      <span class="fazbear-sub">SINCE 1983</span>
    </div>
    
    <!-- Security Camera Header -->
    <div class="camera-header">
      <div class="camera-id">
        <span class="camera-icon">üìπ</span>
        <span class="camera-label">CAM 02 - EAST HALL</span>
        <span class="camera-icon">üìπ</span>
      </div>
      <div class="power-indicator">
        <span class="power-light"></span>
        <span class="power-text">ON AIR</span>
      </div>
    </div>
    
    <!-- Main Game Content -->
    <div class="fnaf-game-content">
      
      <!-- Animatronic Silhouette (ambient) -->
      <div class="animatronic-silhouette"></div>
      
      <!-- Title with Glitch Effect -->
      <h1 class="fnaf-title">
        <span class="glitch-text" data-text="FIVE NIGHTS">FIVE NIGHTS</span>
        <span class="glitch-text" data-text="AT FREDDY'S">AT FREDDY'S</span>
      </h1>
      
      <!-- Fear Meter -->
      <div class="fear-meter">
        <div class="fear-label">
          <span class="fear-icon">‚ö°</span>
          <span>SYSTEM STATUS</span>
          <span class="fear-icon">‚ö°</span>
        </div>
        <div class="fear-bar-container">
          <div class="fear-bar" id="fear-bar"></div>
        </div>
        <div class="fear-attempts" id="fnaf-fear-text">Fear rising‚Ä¶ Attempts left: 5</div>
      </div>
      
      <!-- Wordle Grid - Security Monitor Style -->
      <div class="security-monitor">
        <div class="monitor-header">
          <span>üü¢ SIGNAL ACQUIRED</span>
          <span class="static-bars">‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå‚ñå</span>
        </div>
        <div id="wordle-grid" class="fnaf-wordle-grid"></div>
      </div>
      
      <!-- Input Panel - Vintage Terminal -->
      <div class="input-panel">
        <div class="terminal-line">
          <span class="prompt">></span>
          <span class="terminal-label">ENTER_ACCESS_CODE:</span>
        </div>
        
        <div class="input-container">
          <input id="wordle-input" maxlength="5" placeholder="5 LETTERS" autocomplete="off">
          <button onclick="submitGuess()" id="submit-guess-btn">
            <span class="btn-icon">üîí</span>
            <span class="btn-text">VERIFY</span>
          </button>
        </div>
      </div>
      
      <!-- Static Noise Line (ambient) -->
      <div class="static-line"></div>
      
    </div><!-- end fnaf-game-content -->
    
    <!-- Security Camera Footer -->
    <div class="camera-footer">
      <div class="battery-level">
        <span>üîã POWER: 97%</span>
        <span class="battery-bars">||||||||||</span>
      </div>
      <div class="time-display">
        <span>‚è∞ 12:34 AM</span>
      </div>
    </div>
    
  </div><!-- end fnaf-container -->
</div>






<!-- YOU DIED - ELDEN RING STYLE WITH YOUR ASSETS -->
<div id="death-screen" class="screen hidden">
  
  <!-- Dark Fog Effect -->
  <div class="death-fog"></div>
  
  <!-- Particles (embers) -->
  <div class="death-particles"></div>
  
  <!-- Main Death Container -->
  <div class="elden-ring-death">
    
    <!-- "YOU DIED" Banner with your died.png -->
    <div class="death-banner-container">
      <div class="death-banner-glow"></div>
      <img src="assets/died.png" alt="YOU DIED" class="death-banner-image">
    </div>
    
    <!-- Rune/Arcane Circle Decoration -->
    <div class="death-circle-decoration">
      <div class="circle-outer"></div>
      <div class="circle-inner"></div>
      <div class="circle-runebox">
        <span class="rune-symbol">·õâ</span>
      </div>
    </div>
    
    <!-- Grace Container with powerup.png -->
    <div class="grace-container">
      <!-- Site of Grace - Using powerup.png as the grace -->
      <div class="site-of-grace" onclick="revive()">
        <img src="assets/powerup.png" alt="Site of Grace" class="grace-image">
        <div class="grace-glow"></div>
        <div class="grace-light-ring"></div>
        <div class="grace-ember"></div>
        <div class="grace-ember-2"></div>
        <div class="grace-ember-3"></div>
      </div>
      
      <!-- Grace Text -->
      <div class="grace-text">
        <span class="grace-instruction">Touch grace</span>
        <span class="grace-subtext">to rise again</span>
      </div>
    </div>
    
    <!-- Bottom Menu -->
    <div class="death-menu">
      <button onclick="restart()" class="elden-ring-btn">
        <span class="btn-decoration">[</span>
        <span class="btn-text">Return to Beginning</span>
        <span class="btn-decoration">]</span>
      </button>
    </div>
    
    <!-- Elden Ring Quote -->
    <div class="death-quote">
      <span class="quote-mark">‚Äú</span>
      <span class="quote-text">Rise, ye Tarnished</span>
      <span class="quote-mark">‚Äù</span>
    </div>
    
  </div>
</div>





  <!-- VICTORY -->
  <div id="victory" class="screen hidden">
    <h1>Journey Complete</h1>
    <p>Through every trial, every night, every shared moment‚Ä¶ you made it.</p>
    <h2>You reached me ‚ù§Ô∏è</h2>
    <p class="highlight">Happy Valentine's Day.</p>
  </div>

  <audio id="death-audio" src="assets/you-died.mp3"></audio>
  <audio id="bg-music" src="assets/start-song.mp3" loop></audio>

  <script src="game-script.js"></script>
</body>
</html>
